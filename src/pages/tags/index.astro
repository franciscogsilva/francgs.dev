---
import BaseLayout from "../../layouts/BaseLayout.astro";

const title = "tags";

const allPosts = await Astro.glob("../blog/*.md");

const uniqueTags = [
  ...new Set(allPosts.map((post) => post.frontmatter.tags).flat()),
];
---

<BaseLayout title={title}>
  <ul>
    {
      uniqueTags.map((tag) => (
        <li><a href=`/tags/${tag}`>{tag} ({allPosts.filter(post => post.frontmatter.tags?.includes(tag)).length})</a></li>
      ))
    }
  </ul>
</BaseLayout>
