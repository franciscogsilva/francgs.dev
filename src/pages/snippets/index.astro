---
import { getCollection } from "astro:content";
import PageHeader from "../../components/PageHeader.astro";
import PostCard from "../../components/PostCard.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";

export const prerender = true;

const snippets = (
  await getCollection("snippets", ({ data }) => !data.draft)
).sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime());

const title = "Code Snippets | Francisco Gonzalez";
const description =
  "Quick code snippets and useful commands for Docker, Git, CSS animations, terminal configuration, and developer productivity.";
---

<BaseLayout title={title} description={description}>
  <PageHeader title={title} />
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
    {
      snippets.map((snippet) => (
        <PostCard
          pubDate={snippet.data.pubDate.toISOString()}
          url={`/snippets/${snippet.id}`}
          title={snippet.data.title}
          tags={snippet.data.tags}
          description={snippet.data.description}
        />
      ))
    }
  </div>
</BaseLayout>
